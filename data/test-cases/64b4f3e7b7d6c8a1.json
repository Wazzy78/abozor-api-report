{"uid":"64b4f3e7b7d6c8a1","name":"test_price_prediction_success","fullName":"tests.api.auctionn.test_price_predict.TestPricePredict#test_price_prediction_success","historyId":"ba87b54ee6d89199e2342b1fc3afc57a","time":{"start":1771564404419,"stop":1771564404477,"duration":58},"description":"\n        Positive test:\n        Verify that API returns price_from and price_to for valid car data\n        ","descriptionHtml":"<pre><code>    Positive test:\n    Verify that API returns price_from and price_to for valid car data\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: 'price_from' field missing in response\nassert 'price_from' in {'detail': \"'price'\"}","statusTrace":"self = <tests.api.auctionn.test_price_predict.TestPricePredict object at 0x109483450>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Positive - Predict price based on car data\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.smoke\n    def test_price_prediction_success(self, authenticated_api: ApiFacade):\n        \"\"\"\n        Positive test:\n        Verify that API returns price_from and price_to for valid car data\n        \"\"\"\n        payload = {\n            \"core_car\": {\n                \"year\": 2025,\n                \"mileage\": 0,\n                \"brand\": 82,\n                \"car_model\": 828,\n                \"body_type\": 1,\n                \"fuel_type\": 1,\n                \"region\": 2,\n                \"transmission\": 1,\n                \"generation\": 1651,\n                \"modification\": 17580,\n                \"color\": 3,\n                \"drive_unit\": 1,\n                \"media_tools\": [],\n                \"optics\": [],\n                \"external_body_kit\": [],\n                \"salon\": []\n            },\n            \"condition\": \"average\"\n        }\n    \n        with allure.step(\"Send POST request for price prediction\"):\n            response = authenticated_api._client.post(\"/auction/price-prediction\", json=payload)\n    \n        with allure.step(\"Check status code == 200\"):\n            assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\n    \n        with allure.step(\"Check if price_from and price_to exist\"):\n            json_data = response.json()\n>           assert \"price_from\" in json_data, \"'price_from' field missing in response\"\nE           AssertionError: 'price_from' field missing in response\nE           assert 'price_from' in {'detail': \"'price'\"}\n\ntests/api/auctionn/test_price_predict.py:48: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"authenticated_api","time":{"start":1771564401436,"stop":1771564401504,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Positive test:\n        Verify that API returns price_from and price_to for valid car data\n        ","status":"failed","statusMessage":"AssertionError: 'price_from' field missing in response\nassert 'price_from' in {'detail': \"'price'\"}","statusTrace":"self = <tests.api.auctionn.test_price_predict.TestPricePredict object at 0x109483450>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Positive - Predict price based on car data\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.smoke\n    def test_price_prediction_success(self, authenticated_api: ApiFacade):\n        \"\"\"\n        Positive test:\n        Verify that API returns price_from and price_to for valid car data\n        \"\"\"\n        payload = {\n            \"core_car\": {\n                \"year\": 2025,\n                \"mileage\": 0,\n                \"brand\": 82,\n                \"car_model\": 828,\n                \"body_type\": 1,\n                \"fuel_type\": 1,\n                \"region\": 2,\n                \"transmission\": 1,\n                \"generation\": 1651,\n                \"modification\": 17580,\n                \"color\": 3,\n                \"drive_unit\": 1,\n                \"media_tools\": [],\n                \"optics\": [],\n                \"external_body_kit\": [],\n                \"salon\": []\n            },\n            \"condition\": \"average\"\n        }\n    \n        with allure.step(\"Send POST request for price prediction\"):\n            response = authenticated_api._client.post(\"/auction/price-prediction\", json=payload)\n    \n        with allure.step(\"Check status code == 200\"):\n            assert response.status_code == 200, f\"Expected 200, got {response.status_code}\"\n    \n        with allure.step(\"Check if price_from and price_to exist\"):\n            json_data = response.json()\n>           assert \"price_from\" in json_data, \"'price_from' field missing in response\"\nE           AssertionError: 'price_from' field missing in response\nE           assert 'price_from' in {'detail': \"'price'\"}\n\ntests/api/auctionn/test_price_predict.py:48: AssertionError","steps":[{"name":"Send POST request for price prediction","time":{"start":1771564404419,"stop":1771564404477,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check status code == 200","time":{"start":1771564404477,"stop":1771564404477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check if price_from and price_to exist","time":{"start":1771564404477,"stop":1771564404477,"duration":0},"status":"failed","statusMessage":"AssertionError: 'price_from' field missing in response\nassert 'price_from' in {'detail': \"'price'\"}\n","statusTrace":"  File \"/Users/user/Downloads/abozor-api-tests/tests/api/auctionn/test_price_predict.py\", line 48, in test_price_prediction_success\n    assert \"price_from\" in json_data, \"'price_from' field missing in response\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"critical"},{"name":"feature","value":"Price Prediction"},{"name":"epic","value":"Auction"},{"name":"story","value":"Positive - Predict price based on car data"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.api.auctionn"},{"name":"suite","value":"test_price_predict"},{"name":"subSuite","value":"TestPricePredict"},{"name":"host","value":"Mac"},{"name":"thread","value":"4679-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.auctionn.test_price_predict"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["smoke"]},"source":"64b4f3e7b7d6c8a1.json","parameterValues":[]}