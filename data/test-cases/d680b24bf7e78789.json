{"uid":"d680b24bf7e78789","name":"test_price_prediction_v3_positive","fullName":"tests.api.car.test_price_predict1.TestPricePredictionV3#test_price_prediction_v3_positive","historyId":"c4ca2bc6dde7204f88ef8c8d82481e29","time":{"start":1771564419610,"stop":1771564420576,"duration":966},"status":"failed","statusMessage":"AssertionError: assert 'prediction' == 'ishonch'\n  \n  - ishonch\n  + prediction","statusTrace":"self = <tests.api.car.test_price_predict1.TestPricePredictionV3 object at 0x109a30690>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Positive - Predict car price (v3)\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_price_prediction_v3_positive(self, authenticated_api: ApiFacade):\n        payload = {\n            \"core_car\": {\n                \"year\": 2023, \"mileage\": 20000, \"brand\": 82, \"car_model\": 828,\n                \"body_type\": 1, \"fuel_type\": 1, \"region\": 4, \"transmission\": 1,\n                \"generation\": 1651, \"modification\": 17580, \"color\": 3, \"drive_unit\": 1,\n                \"media_tools\": [8, 9], \"optics\": [], \"external_body_kit\": [], \"salon\": [2]\n            },\n            \"condition\": \"excellent\"\n        }\n        with allure.step(\"POST /car/v3/price-prediction\"):\n            response = authenticated_api._client.post(\"/car/v3/price-prediction\", json=payload)\n        with allure.step(\"Verify status 200\"):\n            assert response.status_code == 200, f\"Unexpected status: {response.status_code}\"\n        with allure.step(\"Validate response fields\"):\n            data = response.json()\n            assert \"offered_price\" in data\n            assert \"detail\" in data\n            assert data[\"detail\"][\"final_price\"] >= data[\"detail\"][\"range_from\"]\n            assert data[\"detail\"][\"final_price\"] <= data[\"detail\"][\"range_to\"]\n>           assert data[\"detail\"][\"res_type\"] == \"ishonch\"\nE           AssertionError: assert 'prediction' == 'ishonch'\nE             \nE             - ishonch\nE             + prediction\n\ntests/api/car/test_price_predict1.py:32: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"authenticated_api","time":{"start":1771564401436,"stop":1771564401504,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'prediction' == 'ishonch'\n  \n  - ishonch\n  + prediction","statusTrace":"self = <tests.api.car.test_price_predict1.TestPricePredictionV3 object at 0x109a30690>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Positive - Predict car price (v3)\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_price_prediction_v3_positive(self, authenticated_api: ApiFacade):\n        payload = {\n            \"core_car\": {\n                \"year\": 2023, \"mileage\": 20000, \"brand\": 82, \"car_model\": 828,\n                \"body_type\": 1, \"fuel_type\": 1, \"region\": 4, \"transmission\": 1,\n                \"generation\": 1651, \"modification\": 17580, \"color\": 3, \"drive_unit\": 1,\n                \"media_tools\": [8, 9], \"optics\": [], \"external_body_kit\": [], \"salon\": [2]\n            },\n            \"condition\": \"excellent\"\n        }\n        with allure.step(\"POST /car/v3/price-prediction\"):\n            response = authenticated_api._client.post(\"/car/v3/price-prediction\", json=payload)\n        with allure.step(\"Verify status 200\"):\n            assert response.status_code == 200, f\"Unexpected status: {response.status_code}\"\n        with allure.step(\"Validate response fields\"):\n            data = response.json()\n            assert \"offered_price\" in data\n            assert \"detail\" in data\n            assert data[\"detail\"][\"final_price\"] >= data[\"detail\"][\"range_from\"]\n            assert data[\"detail\"][\"final_price\"] <= data[\"detail\"][\"range_to\"]\n>           assert data[\"detail\"][\"res_type\"] == \"ishonch\"\nE           AssertionError: assert 'prediction' == 'ishonch'\nE             \nE             - ishonch\nE             + prediction\n\ntests/api/car/test_price_predict1.py:32: AssertionError","steps":[{"name":"POST /car/v3/price-prediction","time":{"start":1771564419610,"stop":1771564420573,"duration":963},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify status 200","time":{"start":1771564420573,"stop":1771564420573,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Validate response fields","time":{"start":1771564420573,"stop":1771564420573,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 'prediction' == 'ishonch'\n  \n  - ishonch\n  + prediction\n","statusTrace":"  File \"/Users/user/Downloads/abozor-api-tests/tests/api/car/test_price_predict1.py\", line 32, in test_price_prediction_v3_positive\n    assert data[\"detail\"][\"res_type\"] == \"ishonch\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Car"},{"name":"severity","value":"critical"},{"name":"story","value":"Positive - Predict car price (v3)"},{"name":"feature","value":"Price Prediction V3"},{"name":"parentSuite","value":"tests.api.car"},{"name":"suite","value":"test_price_predict1"},{"name":"subSuite","value":"TestPricePredictionV3"},{"name":"host","value":"Mac"},{"name":"thread","value":"4679-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.car.test_price_predict1"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"d680b24bf7e78789.json","parameterValues":[]}