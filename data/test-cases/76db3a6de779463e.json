{"uid":"76db3a6de779463e","name":"test_patch_user_profile_negative_invalid_region","fullName":"tests.api.users.test_patch_profile.TestPatchProfile#test_patch_user_profile_negative_invalid_region","historyId":"7c1229888ea5a6c51d196062a2c3dc1f","time":{"start":1771564446902,"stop":1771564446923,"duration":21},"description":"\n        Negative test:\n        Attempt to update profile with invalid region value\n        ","descriptionHtml":"<pre><code>    Negative test:\n    Attempt to update profile with invalid region value\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Expected 400/422, got 404\nassert 404 in [400, 422]\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.api.users.test_patch_profile.TestPatchProfile object at 0x109c7e690>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Negative - Update user profile with invalid data\")\n    def test_patch_user_profile_negative_invalid_region(self, authenticated_api: ApiFacade):\n        \"\"\"\n        Negative test:\n        Attempt to update profile with invalid region value\n        \"\"\"\n        payload = {\n            \"full_name\": \"shaxnoza\",\n            \"birthday\": \"2001-01-01\",\n            \"region\": 999999   # Non-existing region\n        }\n    \n        with allure.step(\"Send PATCH request with invalid region\"):\n            response = authenticated_api.users.patch_profile(payload)\n    \n        with allure.step(\"Check status code is 400 or 422\"):\n>           assert response.status_code in [400, 422], f\"Expected 400/422, got {response.status_code}\"\nE           AssertionError: Expected 400/422, got 404\nE           assert 404 in [400, 422]\nE            +  where 404 = <Response [404]>.status_code\n\ntests/api/users/test_patch_profile.py:50: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"authenticated_api","time":{"start":1771564401436,"stop":1771564401504,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Negative test:\n        Attempt to update profile with invalid region value\n        ","status":"failed","statusMessage":"AssertionError: Expected 400/422, got 404\nassert 404 in [400, 422]\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.api.users.test_patch_profile.TestPatchProfile object at 0x109c7e690>\nauthenticated_api = <api.api_facade.ApiFacade object at 0x109c3f550>\n\n    @allure.story(\"Negative - Update user profile with invalid data\")\n    def test_patch_user_profile_negative_invalid_region(self, authenticated_api: ApiFacade):\n        \"\"\"\n        Negative test:\n        Attempt to update profile with invalid region value\n        \"\"\"\n        payload = {\n            \"full_name\": \"shaxnoza\",\n            \"birthday\": \"2001-01-01\",\n            \"region\": 999999   # Non-existing region\n        }\n    \n        with allure.step(\"Send PATCH request with invalid region\"):\n            response = authenticated_api.users.patch_profile(payload)\n    \n        with allure.step(\"Check status code is 400 or 422\"):\n>           assert response.status_code in [400, 422], f\"Expected 400/422, got {response.status_code}\"\nE           AssertionError: Expected 400/422, got 404\nE           assert 404 in [400, 422]\nE            +  where 404 = <Response [404]>.status_code\n\ntests/api/users/test_patch_profile.py:50: AssertionError","steps":[{"name":"Send PATCH request with invalid region","time":{"start":1771564446902,"stop":1771564446922,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check status code is 400 or 422","time":{"start":1771564446922,"stop":1771564446922,"duration":0},"status":"failed","statusMessage":"AssertionError: Expected 400/422, got 404\nassert 404 in [400, 422]\n +  where 404 = <Response [404]>.status_code\n","statusTrace":"  File \"/Users/user/Downloads/abozor-api-tests/tests/api/users/test_patch_profile.py\", line 50, in test_patch_user_profile_negative_invalid_region\n    assert response.status_code in [400, 422], f\"Expected 400/422, got {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Profile"},{"name":"epic","value":"Users"},{"name":"story","value":"Negative - Update user profile with invalid data"},{"name":"parentSuite","value":"tests.api.users"},{"name":"suite","value":"test_patch_profile"},{"name":"subSuite","value":"TestPatchProfile"},{"name":"host","value":"Mac"},{"name":"thread","value":"4679-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.users.test_patch_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"76db3a6de779463e.json","parameterValues":[]}