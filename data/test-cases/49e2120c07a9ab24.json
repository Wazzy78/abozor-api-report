{"uid":"49e2120c07a9ab24","name":"test_get_my_promos_unauthorized","fullName":"tests.api.carwash.test_get_promo.TestGetPromo#test_get_my_promos_unauthorized","historyId":"6b47ba113576906cf31f40e8a41dd720","time":{"start":1771564429609,"stop":1771564429645,"duration":36},"description":"\n        Negative test:\n        Verify that request without auth headers returns 401 Unauthorized\n        ","descriptionHtml":"<pre><code>    Negative test:\n    Verify that request without auth headers returns 401 Unauthorized\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Expected 401 or 403, got 404\nassert 404 in [401, 403]\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.api.carwash.test_get_promo.TestGetPromo object at 0x109ab92d0>\napi = <api.api_facade.ApiFacade object at 0x109e77f10>\n\n    @allure.story(\"Negative - Access without authentication\")\n    def test_get_my_promos_unauthorized(self, api: ApiFacade):\n        \"\"\"\n        Negative test:\n        Verify that request without auth headers returns 401 Unauthorized\n        \"\"\"\n        with allure.step(\"Send GET request without authorization\"):\n            response = api.carwash.get_my_promo()\n    \n        with allure.step(\"Check status code == 401 or 403\"):\n>           assert response.status_code in [401, 403], f\"Expected 401 or 403, got {response.status_code}\"\nE           AssertionError: Expected 401 or 403, got 404\nE           assert 404 in [401, 403]\nE            +  where 404 = <Response [404]>.status_code\n\ntests/api/carwash/test_get_promo.py:49: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"api","time":{"start":1771564429608,"stop":1771564429609,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n        Negative test:\n        Verify that request without auth headers returns 401 Unauthorized\n        ","status":"failed","statusMessage":"AssertionError: Expected 401 or 403, got 404\nassert 404 in [401, 403]\n +  where 404 = <Response [404]>.status_code","statusTrace":"self = <tests.api.carwash.test_get_promo.TestGetPromo object at 0x109ab92d0>\napi = <api.api_facade.ApiFacade object at 0x109e77f10>\n\n    @allure.story(\"Negative - Access without authentication\")\n    def test_get_my_promos_unauthorized(self, api: ApiFacade):\n        \"\"\"\n        Negative test:\n        Verify that request without auth headers returns 401 Unauthorized\n        \"\"\"\n        with allure.step(\"Send GET request without authorization\"):\n            response = api.carwash.get_my_promo()\n    \n        with allure.step(\"Check status code == 401 or 403\"):\n>           assert response.status_code in [401, 403], f\"Expected 401 or 403, got {response.status_code}\"\nE           AssertionError: Expected 401 or 403, got 404\nE           assert 404 in [401, 403]\nE            +  where 404 = <Response [404]>.status_code\n\ntests/api/carwash/test_get_promo.py:49: AssertionError","steps":[{"name":"Send GET request without authorization","time":{"start":1771564429610,"stop":1771564429644,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check status code == 401 or 403","time":{"start":1771564429644,"stop":1771564429644,"duration":0},"status":"failed","statusMessage":"AssertionError: Expected 401 or 403, got 404\nassert 404 in [401, 403]\n +  where 404 = <Response [404]>.status_code\n","statusTrace":"  File \"/Users/user/Downloads/abozor-api-tests/tests/api/carwash/test_get_promo.py\", line 49, in test_get_my_promos_unauthorized\n    assert response.status_code in [401, 403], f\"Expected 401 or 403, got {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"stepsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Car Wash"},{"name":"feature","value":"My Promos"},{"name":"story","value":"Negative - Access without authentication"},{"name":"parentSuite","value":"tests.api.carwash"},{"name":"suite","value":"test_get_promo"},{"name":"subSuite","value":"TestGetPromo"},{"name":"host","value":"Mac"},{"name":"thread","value":"4679-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.carwash.test_get_promo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"49e2120c07a9ab24.json","parameterValues":[]}