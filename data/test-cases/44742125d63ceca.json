{"uid":"44742125d63ceca","name":"test_get_dealers_ranking_invalid_pagination","fullName":"tests.api.business.test_dealers_ranking#test_get_dealers_ranking_invalid_pagination","historyId":"0539994e732832b417997b0667f95a8e","time":{"start":1765012105763,"stop":1765012105817,"duration":54},"description":"❌ Negative case: Invalid pagination parameters","descriptionHtml":"<p>❌ Negative case: Invalid pagination parameters</p>\n","status":"failed","statusMessage":"AssertionError: Expected 404 or 400, got 200\nassert 200 in [404, 400]\n +  where 200 = <Response [200]>.status_code","statusTrace":"base_url = 'http://185.100.55.56:8009'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...lYWMzZTBhNDEwIiwidXNlcl9pZCI6NzQyNTF9.5kq2O3qJvoRJjO_Nsbye7HmDkv0h8dAsF6hRcfmdLAg', 'Content-Type': 'application/json'}\n\n    @allure.feature(\"Business\")\n    @allure.story(\"Dealers Ranking List\")\n    # @pytest.mark.negative\n    \n    def test_get_dealers_ranking_invalid_pagination(base_url, auth_headers):\n        \"\"\"❌ Negative case: Invalid pagination parameters\"\"\"\n        url = f\"{base_url}/business/dealers-ranking?page=-1&page_size=0\"\n    \n        with allure.step(\"Send GET request with invalid pagination params\"):\n            response = requests.get(url, headers=auth_headers)\n            allure.attach(str(response.text), \"Response Body\", allure.attachment_type.TEXT)\n    \n        with allure.step(\"Verify server returns error or empty list gracefully\"):\n>           assert response.status_code in [404, 400], f\"Expected 404 or 400, got {response.status_code}\"\nE           AssertionError: Expected 404 or 400, got 200\nE           assert 200 in [404, 400]\nE            +  where 200 = <Response [200]>.status_code\n\ntests\\api\\business\\test_dealers_ranking.py:47: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_allure_results","time":{"start":1765012091776,"stop":1765012091776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false},{"name":"headers","time":{"start":1765012091777,"stop":1765012091777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false},{"name":"auth_token","time":{"start":1765012091777,"stop":1765012091829,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false},{"name":"base_url","time":{"start":1765012091777,"stop":1765012091777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false},{"name":"auth_headers","time":{"start":1765012092799,"stop":1765012092799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false}],"testStage":{"description":"❌ Negative case: Invalid pagination parameters","status":"failed","statusMessage":"AssertionError: Expected 404 or 400, got 200\nassert 200 in [404, 400]\n +  where 200 = <Response [200]>.status_code","statusTrace":"base_url = 'http://185.100.55.56:8009'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...lYWMzZTBhNDEwIiwidXNlcl9pZCI6NzQyNTF9.5kq2O3qJvoRJjO_Nsbye7HmDkv0h8dAsF6hRcfmdLAg', 'Content-Type': 'application/json'}\n\n    @allure.feature(\"Business\")\n    @allure.story(\"Dealers Ranking List\")\n    # @pytest.mark.negative\n    \n    def test_get_dealers_ranking_invalid_pagination(base_url, auth_headers):\n        \"\"\"❌ Negative case: Invalid pagination parameters\"\"\"\n        url = f\"{base_url}/business/dealers-ranking?page=-1&page_size=0\"\n    \n        with allure.step(\"Send GET request with invalid pagination params\"):\n            response = requests.get(url, headers=auth_headers)\n            allure.attach(str(response.text), \"Response Body\", allure.attachment_type.TEXT)\n    \n        with allure.step(\"Verify server returns error or empty list gracefully\"):\n>           assert response.status_code in [404, 400], f\"Expected 404 or 400, got {response.status_code}\"\nE           AssertionError: Expected 404 or 400, got 200\nE           assert 200 in [404, 400]\nE            +  where 200 = <Response [200]>.status_code\n\ntests\\api\\business\\test_dealers_ranking.py:47: AssertionError","steps":[{"name":"Send GET request with invalid pagination params","time":{"start":1765012105764,"stop":1765012105814,"duration":50},"status":"passed","steps":[],"attachments":[{"uid":"a3d99b4d7f271294","name":"Response Body","source":"a3d99b4d7f271294.txt","type":"text/plain","size":113}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"attachmentStep":false},{"name":"Verify server returns error or empty list gracefully","time":{"start":1765012105815,"stop":1765012105815,"duration":0},"status":"failed","statusMessage":"AssertionError: Expected 404 or 400, got 200\nassert 200 in [404, 400]\n +  where 200 = <Response [200]>.status_code\n","statusTrace":"  File \"C:\\Users\\User\\PyCharmMiscProject\\tests\\api\\business\\test_dealers_ranking.py\", line 47, in test_get_dealers_ranking_invalid_pagination\n    assert response.status_code in [404, 400], f\"Expected 404 or 400, got {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"attachmentStep":false}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":1,"attachmentStep":false},"afterStages":[],"labels":[{"name":"story","value":"Dealers Ranking List"},{"name":"feature","value":"Business"},{"name":"parentSuite","value":"tests.api.business"},{"name":"suite","value":"test_dealers_ranking"},{"name":"host","value":"WIN-AVFLEP7C716"},{"name":"thread","value":"6532-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.business.test_dealers_ranking"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"44742125d63ceca.json","parameterValues":[]}