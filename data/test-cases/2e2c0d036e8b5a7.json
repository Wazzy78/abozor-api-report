{"uid":"2e2c0d036e8b5a7","name":"test_get_my_lost_offers_negative[?page=1&size=0&type=lost]","fullName":"tests.api.auctionn.test_offer_lost#test_get_my_lost_offers_negative","historyId":"34a6058a65ee30ccfcf97b61d4c4008c","time":{"start":1765014338798,"stop":1765014338843,"duration":45},"status":"failed","statusMessage":"AssertionError: Unexpected status code: 500\nassert 500 < 500\n +  where 500 = <Response [500]>.status_code","statusTrace":"dev_url = 'http://185.100.55.56:8011'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...yNTcyZTZiNzQ1IiwidXNlcl9pZCI6NzQyNTF9.8Qox-_qZAT63sZT_rJd_Aq2gXCi5GjnBDk6b-qUEYX4', 'Content-Type': 'application/json'}\nquery = '?page=1&size=0&type=lost'\n\n    @allure.epic(\"Auction\")\n    @allure.feature(\"My Offers\")\n    @allure.story(\"Negative - Invalid query parameters\")\n    @pytest.mark.parametrize(\"query\", [\n        \"?page=-1&size=20&type=lost\",\n        \"?page=1&size=0&type=lost\",\n        \"?page=1&size=20&type=invalid\",\n        \"?page=&size=20&type=lost\",\n        \"?page=1&size=&type=lost\",\n    ])\n    def test_get_my_lost_offers_negative(dev_url, auth_headers, query):\n        url = f\"{dev_url}/api/auction/my/offers/{query}\"\n    \n        with allure.step(f\"Send GET request with invalid query: {query}\"):\n            response = requests.get(url, headers=auth_headers)\n    \n        with allure.step(\"Attach server response\"):\n            allure.attach(\n                f\"Status Code: {response.status_code}\\nBody: {response.text}\",\n                name=\"Server response\",\n                attachment_type=allure.attachment_type.TEXT\n            )\n    \n        with allure.step(\"Expect 4xx client error or valid empty response\"):\n            if response.status_code == 200:\n                data = response.json()\n                assert \"results\" in data\n                assert isinstance(data[\"results\"], list)\n            else:\n>               assert 400 <= response.status_code < 500, f\"Unexpected status code: {response.status_code}\"\nE               AssertionError: Unexpected status code: 500\nE               assert 500 < 500\nE                +  where 500 = <Response [500]>.status_code\n\ntests\\api\\auctionn\\test_offer_lost.py:58: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_allure_results","time":{"start":1765014327438,"stop":1765014327439,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"headers","time":{"start":1765014327440,"stop":1765014327440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"auth_token","time":{"start":1765014327440,"stop":1765014327497,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"base_url","time":{"start":1765014327440,"stop":1765014327440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"auth_headers","time":{"start":1765014329089,"stop":1765014329089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"dev_url","time":{"start":1765014332624,"stop":1765014332624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Unexpected status code: 500\nassert 500 < 500\n +  where 500 = <Response [500]>.status_code","statusTrace":"dev_url = 'http://185.100.55.56:8011'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...yNTcyZTZiNzQ1IiwidXNlcl9pZCI6NzQyNTF9.8Qox-_qZAT63sZT_rJd_Aq2gXCi5GjnBDk6b-qUEYX4', 'Content-Type': 'application/json'}\nquery = '?page=1&size=0&type=lost'\n\n    @allure.epic(\"Auction\")\n    @allure.feature(\"My Offers\")\n    @allure.story(\"Negative - Invalid query parameters\")\n    @pytest.mark.parametrize(\"query\", [\n        \"?page=-1&size=20&type=lost\",\n        \"?page=1&size=0&type=lost\",\n        \"?page=1&size=20&type=invalid\",\n        \"?page=&size=20&type=lost\",\n        \"?page=1&size=&type=lost\",\n    ])\n    def test_get_my_lost_offers_negative(dev_url, auth_headers, query):\n        url = f\"{dev_url}/api/auction/my/offers/{query}\"\n    \n        with allure.step(f\"Send GET request with invalid query: {query}\"):\n            response = requests.get(url, headers=auth_headers)\n    \n        with allure.step(\"Attach server response\"):\n            allure.attach(\n                f\"Status Code: {response.status_code}\\nBody: {response.text}\",\n                name=\"Server response\",\n                attachment_type=allure.attachment_type.TEXT\n            )\n    \n        with allure.step(\"Expect 4xx client error or valid empty response\"):\n            if response.status_code == 200:\n                data = response.json()\n                assert \"results\" in data\n                assert isinstance(data[\"results\"], list)\n            else:\n>               assert 400 <= response.status_code < 500, f\"Unexpected status code: {response.status_code}\"\nE               AssertionError: Unexpected status code: 500\nE               assert 500 < 500\nE                +  where 500 = <Response [500]>.status_code\n\ntests\\api\\auctionn\\test_offer_lost.py:58: AssertionError","steps":[{"name":"Send GET request with invalid query: ?page=1&size=0&type=lost","time":{"start":1765014338799,"stop":1765014338840,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"Attach server response","time":{"start":1765014338841,"stop":1765014338841,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"e004df977661df7f","name":"Server response","source":"e004df977661df7f.txt","type":"text/plain","size":44}],"parameters":[],"hasContent":true,"attachmentStep":false,"attachmentsCount":1,"stepsCount":0,"shouldDisplayMessage":false},{"name":"Expect 4xx client error or valid empty response","time":{"start":1765014338842,"stop":1765014338842,"duration":0},"status":"failed","statusMessage":"AssertionError: Unexpected status code: 500\nassert 500 < 500\n +  where 500 = <Response [500]>.status_code\n","statusTrace":"  File \"C:\\Users\\User\\PyCharmMiscProject\\tests\\api\\auctionn\\test_offer_lost.py\", line 58, in test_get_my_lost_offers_negative\n    assert 400 <= response.status_code < 500, f\"Unexpected status code: {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"attachmentsCount":1,"stepsCount":3,"shouldDisplayMessage":true},"afterStages":[],"labels":[{"name":"feature","value":"My Offers"},{"name":"epic","value":"Auction"},{"name":"story","value":"Negative - Invalid query parameters"},{"name":"parentSuite","value":"tests.api.auctionn"},{"name":"suite","value":"test_offer_lost"},{"name":"host","value":"WIN-AVFLEP7C716"},{"name":"thread","value":"12952-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.auctionn.test_offer_lost"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"query","value":"'?page=1&size=0&type=lost'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"2e2c0d036e8b5a7.json","parameterValues":["'?page=1&size=0&type=lost'"]}