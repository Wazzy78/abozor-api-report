{"uid":"70dd20c0ad9de1d8","name":"test_get_tariffs_invalid_carwash_id[params1]","fullName":"tests.api.carwash.test_get_tarrif#test_get_tariffs_invalid_carwash_id","historyId":"8f9abfe1f112f7aa9597bd1ee77b89b0","time":{"start":1765014365652,"stop":1765014365695,"duration":43},"description":"\nNegative test:\nVerify that an invalid carwash_id returns 200 with empty list or proper error response\n","descriptionHtml":"<p>Negative test:<br />\nVerify that an invalid carwash_id returns 200 with empty list or proper error response</p>\n","status":"failed","statusMessage":"AssertionError: Expected 200/400/404, got 200\nassert 200 in [400, 404, 500]\n +  where 200 = <Response [200]>.status_code","statusTrace":"base_url = 'http://185.100.55.56:8009'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...yNTcyZTZiNzQ1IiwidXNlcl9pZCI6NzQyNTF9.8Qox-_qZAT63sZT_rJd_Aq2gXCi5GjnBDk6b-qUEYX4', 'Content-Type': 'application/json'}\nparams = {'carwash_id': 99999}\n\n    @allure.epic(\"Car Wash\")\n    @allure.feature(\"Tariffs\")\n    @allure.story(\"Negative - Get tariffs with invalid carwash_id\")\n    @pytest.mark.parametrize(\"params\", [\n        {\"carwash_id\": 0},\n        {\"carwash_id\": 99999},\n        {\"carwash_id\": \"abc\"}\n    ])\n    def test_get_tariffs_invalid_carwash_id(base_url, auth_headers, params):\n        \"\"\"\n        Negative test:\n        Verify that an invalid carwash_id returns 200 with empty list or proper error response\n        \"\"\"\n        url = f\"{base_url}/carwash/tariffs/\"\n        with allure.step(f\"Send GET request with params: {params}\"):\n            response = requests.get(url, headers=auth_headers, params=params)\n    \n        with allure.step(\"Check status code is 200 or 400 or 404\"):\n>           assert response.status_code in [ 400, 404, 500], \\\n                f\"Expected 200/400/404, got {response.status_code}\"\nE           AssertionError: Expected 200/400/404, got 200\nE           assert 200 in [400, 404, 500]\nE            +  where 200 = <Response [200]>.status_code\n\ntests\\api\\carwash\\test_get_tarrif.py:70: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_allure_results","time":{"start":1765014327438,"stop":1765014327439,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"auth_token","time":{"start":1765014327440,"stop":1765014327497,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"headers","time":{"start":1765014327440,"stop":1765014327440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"base_url","time":{"start":1765014327440,"stop":1765014327440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"auth_headers","time":{"start":1765014329089,"stop":1765014329089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"\nNegative test:\nVerify that an invalid carwash_id returns 200 with empty list or proper error response\n","status":"failed","statusMessage":"AssertionError: Expected 200/400/404, got 200\nassert 200 in [400, 404, 500]\n +  where 200 = <Response [200]>.status_code","statusTrace":"base_url = 'http://185.100.55.56:8009'\nauth_headers = {'Accept': 'application/json', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZ...yNTcyZTZiNzQ1IiwidXNlcl9pZCI6NzQyNTF9.8Qox-_qZAT63sZT_rJd_Aq2gXCi5GjnBDk6b-qUEYX4', 'Content-Type': 'application/json'}\nparams = {'carwash_id': 99999}\n\n    @allure.epic(\"Car Wash\")\n    @allure.feature(\"Tariffs\")\n    @allure.story(\"Negative - Get tariffs with invalid carwash_id\")\n    @pytest.mark.parametrize(\"params\", [\n        {\"carwash_id\": 0},\n        {\"carwash_id\": 99999},\n        {\"carwash_id\": \"abc\"}\n    ])\n    def test_get_tariffs_invalid_carwash_id(base_url, auth_headers, params):\n        \"\"\"\n        Negative test:\n        Verify that an invalid carwash_id returns 200 with empty list or proper error response\n        \"\"\"\n        url = f\"{base_url}/carwash/tariffs/\"\n        with allure.step(f\"Send GET request with params: {params}\"):\n            response = requests.get(url, headers=auth_headers, params=params)\n    \n        with allure.step(\"Check status code is 200 or 400 or 404\"):\n>           assert response.status_code in [ 400, 404, 500], \\\n                f\"Expected 200/400/404, got {response.status_code}\"\nE           AssertionError: Expected 200/400/404, got 200\nE           assert 200 in [400, 404, 500]\nE            +  where 200 = <Response [200]>.status_code\n\ntests\\api\\carwash\\test_get_tarrif.py:70: AssertionError","steps":[{"name":"Send GET request with params: {'carwash_id': 99999}","time":{"start":1765014365652,"stop":1765014365694,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":false},{"name":"Check status code is 200 or 400 or 404","time":{"start":1765014365694,"stop":1765014365694,"duration":0},"status":"failed","statusMessage":"AssertionError: Expected 200/400/404, got 200\nassert 200 in [400, 404, 500]\n +  where 200 = <Response [200]>.status_code\n","statusTrace":"  File \"C:\\Users\\User\\PyCharmMiscProject\\tests\\api\\carwash\\test_get_tarrif.py\", line 70, in test_get_tariffs_invalid_carwash_id\n    assert response.status_code in [ 400, 404, 500], \\\n        f\"Expected 200/400/404, got {response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"attachmentsCount":0,"stepsCount":2,"shouldDisplayMessage":true},"afterStages":[],"labels":[{"name":"feature","value":"Tariffs"},{"name":"epic","value":"Car Wash"},{"name":"story","value":"Negative - Get tariffs with invalid carwash_id"},{"name":"parentSuite","value":"tests.api.carwash"},{"name":"suite","value":"test_get_tarrif"},{"name":"host","value":"WIN-AVFLEP7C716"},{"name":"thread","value":"12952-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.carwash.test_get_tarrif"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"params","value":"{'carwash_id': 99999}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"70dd20c0ad9de1d8.json","parameterValues":["{'carwash_id': 99999}"]}